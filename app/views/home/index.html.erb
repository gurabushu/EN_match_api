<% unless user_signed_in? %>
<header class="header-top">
  <h1>エンジニア同士がスキルで繋がれるマッチングアプリ</h1>
</header>
<% end %>

<% if user_signed_in? %>
<div class="header-nav-wrapper">
  <header class="header-top-login">
    <h1>エンジニア同士がスキルで<br>繋がれるマッチングアプリ</h1>
  </header>
  <nav class="nav-bar">
    <ul>
      <li><%= link_to "アカウント情報", edit_user_registration_path, class: "nav-link" %></li>
      <li><%= link_to "マイプロフィール", user_path(current_user), class: "nav-link" %></li>
      <li><%= link_to "いいね管理", root_path, class: "nav-link" %></li>
      <%= button_to "ログアウト", destroy_user_session_path, method: :delete, data: { turbo: false }, class: "nav-link" %>
    </ul>
  </nav>
</div>
<% else %>


<div class="login">
  <%= link_to "ログイン", new_user_session_path , class:"btn btn-login" %>
  <%= link_to "新規登録", new_user_registration_path, class:"btn btn-signup" %>
</div>

<%= form_with url: search_path, method: :get, local: true do |f| %>
  <div class="search-bar">
    <p>フリーワード検索：<%= f.text_field :search, placeholder: "フリーワード検索" %></p>
    <p>スキルで検索：<%= f.text_field :skill, placeholder: "スキルで検索" %></p>
    <%= f.submit "検索", style: "background-color: #6B61D8; color: white; font-size: 16px; padding: 10px 30px; border: none; border-radius: 5px;" %>
  </div>
<% end %>
<% end %>

<h2>繋がれるユーザー一覧</h2>
<% if @users.present? %>
  <% @users.each do |user| %>
    <div class="user-list">
      <h3>名前：<%= user.name %></h3>
      <p>スキル: <%= user.skill %></p>
      <p>自己紹介: <%= user.description %></p>
      <p>登録日: <%= user.created_at.strftime("%Y/%m/%d") %></p>
      <%= link_to "詳細", user_path(user), class: "btn btn-primary" %>
    </div>
  <% end %>
<% else %>
  <div class="no-users">
    <h4>ユーザーが登録されていません</h4>
    <%= link_to "ユーザー登録", new_user_registration_path, class: "btn-element", data: { turbo: false } %>
  </div>
<% end %>